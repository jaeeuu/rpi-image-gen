---
name: trixie-base-essential
mmdebstrap:
  architectures:
    - arm64
  mode: auto
  variant: essential
  suite: trixie
  mirrors:
    - deb http://deb.debian.org/debian trixie main contrib non-free non-free-firmware
    - deb http://deb.debian.org/debian-security trixie-security main contrib non-free non-free-firmware
    - deb http://deb.debian.org/debian trixie-updates main contrib non-free non-free-firmware
    - deb http://deb.debian.org/debian unstable main contrib non-free non-free-firmware
    - deb [trusted=yes] copy:///home/jreset.linux/rpi-image-gen/autokiosk/localrepo ./
  packages:
    - login
    - mount
    - adduser
    - libbpf1
    - udev
    - locales
    - tzdata
  setup-hooks:
    - export LANG=C.UTF-8 LC_ALL=C.UTF-8
  essential-hooks:
    - echo tzdata tzdata/Areas select Asia
        | chroot $1 debconf-set-selections
    - echo tzdata tzdata/Zones/Asia select Seoul
        | chroot $1 debconf-set-selections
    - echo locales locales/locales_to_be_generated multiselect ko_KR.UTF-8 UTF-8
        | chroot $1 debconf-set-selections
    - echo locales locales/default_environment_locale select ko_KR.UTF-8
        | chroot $1 debconf-set-selections
    - echo "keyboard-configuration keyboard-configuration/variant select English (US)"
        | chroot $1 debconf-set-selections
    - echo keyboard-configuration keyboard-configuration/xkb-keymap select us
        | chroot $1 debconf-set-selections
  aptopts:
    - APT::Install-Suggests "false"
    - APT::Install-Recommends "false"
  dpkgopts:
    - path-exclude=/usr/share/man/*
    # - path-exclude=/usr/share/locale/*
    # - path-include=/usr/share/locale/locale.alias
    - path-exclude=/usr/share/doc/*
    - path-exclude=/usr/share/{doc,info,man,omf,help,gnome/help}/*
    - path-exclude=/usr/share/lintian/*
    - path-exclude=/usr/share/linda/*
    - path-exclude=/usr/share/debhelper/*
    - path-exclude=/usr/share/pixmaps/*
    - path-exclude=/usr/share/applications/*